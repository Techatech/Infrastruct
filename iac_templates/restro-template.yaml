# AWS CloudFormation Template
# Generated by Infrastruct on 2025-10-10 03:21:50
# Environment: dev
# 
# This template follows Infrastruct tagging conventions:
# - Name: {envid}-ResourceType-InstanceNumber
# - Environment: {envid}
# - CreatedBy: Infrastruct
#
# Deploy with: aws cloudformation create-stack --stack-name dev-infrastructure --template-body file://template.yaml

AWSTemplateFormatVersion: '2010-09-09'
Description: Infrastructure as Code template generated by Infrastruct for dev environment
Parameters:
  EnvironmentId:
    Type: String
    Default: dev
    Description: Environment identifier for resource naming and tagging
Resources:
  Function01:
    Type: AWS::Lambda::Function
    Properties:
      FunctionName:
        Fn::Sub: ${EnvironmentId}-function
      Runtime: python3.9
      Handler: index.handler
      Code:
        ZipFile: "def handler(event, context):\n    return {'statusCode': 200, 'body':\
          \ 'Hello from Lambda!'}"
      Role:
        Fn::GetAtt:
        - LambdaExecutionRole
        - Arn
      Tags:
      - Key: Name
        Value: dev-Function01
      - Key: Environment
        Value: dev
      - Key: CreatedBy
        Value: Infrastruct
      - Key: CreatedDate
        Value: '2025-10-10'
      - Key: ManagedBy
        Value: CloudFormation
  Table01:
    Type: AWS::DynamoDB::Table
    Properties:
      TableName:
        Fn::Sub: ${EnvironmentId}-table
      BillingMode: PAY_PER_REQUEST
      AttributeDefinitions:
      - AttributeName: id
        AttributeType: S
      KeySchema:
      - AttributeName: id
        KeyType: HASH
      Tags:
      - Key: Name
        Value: dev-Table01
      - Key: Environment
        Value: dev
      - Key: CreatedBy
        Value: Infrastruct
      - Key: CreatedDate
        Value: '2025-10-10'
      - Key: ManagedBy
        Value: CloudFormation
  Distribution01:
    Type: AWS::CloudFront::Distribution
    Properties:
      Tags:
      - Key: Name
        Value: dev-CDN01
      - Key: Environment
        Value: dev
      - Key: CreatedBy
        Value: Infrastruct
      - Key: CreatedDate
        Value: '2025-10-10'
      - Key: ManagedBy
        Value: CloudFormation
Outputs: {}
