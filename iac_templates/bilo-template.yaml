# AWS CloudFormation Template
# Generated by Infrastruct on 2025-10-10 06:42:47
# Environment: dev
# 
# This template follows Infrastruct tagging conventions:
# - Name: {envid}-ResourceType-InstanceNumber
# - Environment: {envid}
# - CreatedBy: Infrastruct
#
# Deploy with: aws cloudformation create-stack --stack-name dev-infrastructure --template-body file://template.yaml

AWSTemplateFormatVersion: '2010-09-09'
Description: Infrastructure as Code template generated by Infrastruct for dev environment
Parameters:
  EnvironmentId:
    Type: String
    Default: dev
    Description: Environment identifier for resource naming and tagging
Resources:
  Bucket01:
    Type: AWS::S3::Bucket
    Properties:
      BucketName:
        Fn::Sub: ${EnvironmentId}-${AWS::AccountId}-${AWS::Region}-bucket
      Tags:
      - Key: Name
        Value: dev-Bucket01
      - Key: Environment
        Value: dev
      - Key: CreatedBy
        Value: Infrastruct
      - Key: CreatedDate
        Value: '2025-10-10'
      - Key: ManagedBy
        Value: CloudFormation
      PublicAccessBlockConfiguration:
        BlockPublicAcls: true
        BlockPublicPolicy: true
        IgnorePublicAcls: true
        RestrictPublicBuckets: true
  Bucket02:
    Type: AWS::S3::Bucket
    Properties:
      BucketName:
        Fn::Sub: ${EnvironmentId}-${AWS::AccountId}-${AWS::Region}-bucket
      Tags:
      - Key: Name
        Value: dev-Bucket02
      - Key: Environment
        Value: dev
      - Key: CreatedBy
        Value: Infrastruct
      - Key: CreatedDate
        Value: '2025-10-10'
      - Key: ManagedBy
        Value: CloudFormation
      PublicAccessBlockConfiguration:
        BlockPublicAcls: true
        BlockPublicPolicy: true
        IgnorePublicAcls: true
        RestrictPublicBuckets: true
  Bucket03:
    Type: AWS::S3::Bucket
    Properties:
      BucketName:
        Fn::Sub: ${EnvironmentId}-${AWS::AccountId}-${AWS::Region}-bucket
      Tags:
      - Key: Name
        Value: dev-Bucket03
      - Key: Environment
        Value: dev
      - Key: CreatedBy
        Value: Infrastruct
      - Key: CreatedDate
        Value: '2025-10-10'
      - Key: ManagedBy
        Value: CloudFormation
      PublicAccessBlockConfiguration:
        BlockPublicAcls: true
        BlockPublicPolicy: true
        IgnorePublicAcls: true
        RestrictPublicBuckets: true
  Bucket04:
    Type: AWS::S3::Bucket
    Properties:
      BucketName:
        Fn::Sub: ${EnvironmentId}-${AWS::AccountId}-${AWS::Region}-bucket
      Tags:
      - Key: Name
        Value: dev-Bucket04
      - Key: Environment
        Value: dev
      - Key: CreatedBy
        Value: Infrastruct
      - Key: CreatedDate
        Value: '2025-10-10'
      - Key: ManagedBy
        Value: CloudFormation
      PublicAccessBlockConfiguration:
        BlockPublicAcls: true
        BlockPublicPolicy: true
        IgnorePublicAcls: true
        RestrictPublicBuckets: true
Outputs:
  Bucket01Id:
    Description: ID of Bucket01
    Value:
      Ref: Bucket01
    Export:
      Name:
        Fn::Sub: ${dev}-Bucket01-Id
  Bucket02Id:
    Description: ID of Bucket02
    Value:
      Ref: Bucket02
    Export:
      Name:
        Fn::Sub: ${dev}-Bucket02-Id
  Bucket03Id:
    Description: ID of Bucket03
    Value:
      Ref: Bucket03
    Export:
      Name:
        Fn::Sub: ${dev}-Bucket03-Id
  Bucket04Id:
    Description: ID of Bucket04
    Value:
      Ref: Bucket04
    Export:
      Name:
        Fn::Sub: ${dev}-Bucket04-Id
